{"version":3,"sources":["Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Modal/Modal.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","App.js","index.js"],"names":["Searchbar","onSubmit","className","type","autoComplete","autoFocus","placeholder","name","shortid","require","ImageGalleryItem","items","onClick","map","item","data-src","largeImageURL","key","generate","src","webformatURL","alt","tags","Modal","keyPress","e","code","props","window","addEventListener","this","removeEventListener","Component","ImageGallery","state","isModal","imgSrc","openModal","currentTarget","dataset","setState","closeModal","target","Button","Loader","height","width","stroke","color","viewBox","xmlns","aria-label","label","fill","fillRule","transform","strokeWidth","cx","cy","r","radius","attributeName","begin","dur","values","calcMode","repeatCount","from","to","defaultProps","App","inputValue","imgList","isLoading","page","handleMakeRequest","axios","get","then","response","data","hits","catch","error","console","log","handleSubmit","event","preventDefault","search","imageValue","value","prevState","loadMore","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.596757ef.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={onSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          name=\"imageValue\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// буду использовать шорт ид , иногда в пиксабай попадаются картинки с одинаковыми ид\r\n\r\nconst shortid = require(\"shortid\");\r\n\r\nconst ImageGalleryItem = ({ items, onClick }) => (\r\n  <>\r\n    {items.map((item) => (\r\n      <li\r\n        data-src={item.largeImageURL}\r\n        key={shortid.generate()}\r\n        className=\"ImageGalleryItem\"\r\n        onClick={onClick}\r\n      >\r\n        <img\r\n          src={item.webformatURL}\r\n          alt={item.tags}\r\n          className=\"ImageGalleryItem-image\"\r\n        ></img>\r\n      </li>\r\n    ))}\r\n  </>\r\n);\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  items: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.keyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.keyPress);\r\n  }\r\n\r\n  keyPress = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClick();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, alt, onClick } = this.props;\r\n    return (\r\n      <div className=\"Overlay\" onClick={onClick}>\r\n        <div className=\"Modal\">\r\n          <img src={src} alt={alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Modal from \"../Modal/Modal\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    isModal: false,\r\n    imgSrc: \"\",\r\n  };\r\n\r\n  openModal = (e) => {\r\n    const largeImageURL = e.currentTarget.dataset.src;\r\n    this.setState({ imgSrc: largeImageURL, isModal: true });\r\n  };\r\n\r\n  closeModal = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.setState({ isModal: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { isModal, imgSrc } = this.state;\r\n    const { items } = this.props;\r\n    return (\r\n      <>\r\n        <ul className=\"ImageGallery\">\r\n          <ImageGalleryItem items={items} onClick={this.openModal} />\r\n        </ul>\r\n        {isModal && (\r\n          <Modal src={imgSrc} alt={items.tags} onClick={this.closeModal} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div className=\"LoadMoreButton\">\r\n      <button type=\"submit\" className=\"Button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Loader = (props) => (\r\n  <svg\r\n    height={props.height}\r\n    width={props.width}\r\n    stroke={props.color}\r\n    viewBox=\"0 0 57 57\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    aria-label={props.label}\r\n  >\r\n    <g fill=\"none\" fillRule=\"evenodd\">\r\n      <g transform=\"translate(1 1)\" strokeWidth=\"2\">\r\n        <circle cx=\"5\" cy=\"50\" r={props.radius}>\r\n          <animate\r\n            attributeName=\"cy\"\r\n            begin=\"0s\"\r\n            dur=\"2.2s\"\r\n            values=\"50;5;50;50\"\r\n            calcMode=\"linear\"\r\n            repeatCount=\"indefinite\"\r\n          />\r\n          <animate\r\n            attributeName=\"cx\"\r\n            begin=\"0s\"\r\n            dur=\"2.2s\"\r\n            values=\"5;27;49;5\"\r\n            calcMode=\"linear\"\r\n            repeatCount=\"indefinite\"\r\n          />\r\n        </circle>\r\n        <circle cx=\"27\" cy=\"5\" r={props.radius}>\r\n          <animate\r\n            attributeName=\"cy\"\r\n            begin=\"0s\"\r\n            dur=\"2.2s\"\r\n            from=\"5\"\r\n            to=\"5\"\r\n            values=\"5;50;50;5\"\r\n            calcMode=\"linear\"\r\n            repeatCount=\"indefinite\"\r\n          />\r\n          <animate\r\n            attributeName=\"cx\"\r\n            begin=\"0s\"\r\n            dur=\"2.2s\"\r\n            from=\"27\"\r\n            to=\"27\"\r\n            values=\"27;49;5;27\"\r\n            calcMode=\"linear\"\r\n            repeatCount=\"indefinite\"\r\n          />\r\n        </circle>\r\n        <circle cx=\"49\" cy=\"50\" r={props.radius}>\r\n          <animate\r\n            attributeName=\"cy\"\r\n            begin=\"0s\"\r\n            dur=\"2.2s\"\r\n            values=\"50;50;5;50\"\r\n            calcMode=\"linear\"\r\n            repeatCount=\"indefinite\"\r\n          />\r\n          <animate\r\n            attributeName=\"cx\"\r\n            from=\"49\"\r\n            to=\"49\"\r\n            begin=\"0s\"\r\n            dur=\"2.2s\"\r\n            values=\"49;5;27;49\"\r\n            calcMode=\"linear\"\r\n            repeatCount=\"indefinite\"\r\n          />\r\n        </circle>\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nLoader.propTypes = {\r\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  color: PropTypes.string,\r\n  label: PropTypes.string,\r\n  radius: PropTypes.number,\r\n};\r\n\r\nLoader.defaultProps = {\r\n  height: 100,\r\n  width: 100,\r\n  color: \"blue\",\r\n  radius: 5,\r\n  label: \"audio-loading\",\r\n};\r\n\r\nexport default Loader;\r\n","import React, { Component } from \"react\";\r\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\r\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\r\nimport Button from \"./Components/Button/Button\";\r\nimport Loader from \"./Components/Loader/Loader\";\r\nimport axios from \"axios\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    inputValue: \"\",\r\n    imgList: [],\r\n    isLoading: false,\r\n    page: 1,\r\n  };\r\n\r\n  handleMakeRequest = () => {\r\n    const apiKey = \"16732818-7da563d5e6a89fd9c9e651ff7\";\r\n    const { inputValue, page } = this.state;\r\n    this.setState({ isLoading: true });\r\n\r\n    axios\r\n      .get(\r\n        `https://pixabay.com/api/?q=${inputValue}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`\r\n      )\r\n      .then((response) => {\r\n        this.setState(({ imgList }) => ({\r\n          imgList: [...imgList, ...response.data.hits],\r\n          isLoading: false,\r\n        }));\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const search = event.target.imageValue.value;\r\n    this.setState((prevState) => {\r\n      if (prevState.inputValue !== search) {\r\n        return {\r\n          imgList: [],\r\n          inputValue: search,\r\n          page: 1,\r\n        };\r\n      } else {\r\n        return {\r\n          page: prevState.page + 1,\r\n        };\r\n      }\r\n    });\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { inputValue, page, isLoading } = this.state;\r\n\r\n    if (prevState.inputValue !== inputValue || prevState.page !== page) {\r\n      this.setState({\r\n        isLoading: true,\r\n      });\r\n\r\n      this.handleMakeRequest();\r\n    }\r\n\r\n    if (prevState.isLoading && !isLoading) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }\r\n\r\n  loadMore = () => {\r\n    this.setState(({ page }) => ({\r\n      page: page + 1,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { imgList, isLoading } = this.state;\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar onSubmit={this.handleSubmit}></Searchbar>\r\n        <ImageGallery items={imgList}></ImageGallery>\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          imgList.length > 0 && <Button onClick={this.loadMore} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./Styles/styles.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}